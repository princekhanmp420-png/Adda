module.exports = {
  config: {
    name: "group_rules",
    author: "SaGor",
    role: 0,
    shortDescription: "ржЧрзНрж░рзБржкрзЗрж░ ржирж╛ржорж╕рж╣ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ ржирж┐рзЯржо ржкрж╛ржарж╛рзЯ",
    longDescription: "ржЧрзНрж░рзБржкрзЗ ржХрзЗржЙ 'ржЧрзНрж░рзБржкрзЗрж░ ржирж┐рзЯржо' ржмрж╛ 'group rules' рж▓рж┐ржЦрж▓рзЗ, ржмржЯ ржПржХ ржПржХ ржХрж░рзЗ рж╕рзБржирзНржжрж░ ржбрж┐ржЬрж╛ржЗржирзЗ ржЧрзНрж░рзБржкрзЗрж░ ржирж┐рзЯржо ржкрж╛ржарж╛ржмрзЗред",
    category: "AI",
    guide: "{pn}"
  },

  onChat: async function({ api, event, Threads }) {
    const msg = event.body?.toLowerCase();
    if (!msg) return;

    // ржХрзАржУрзЯрж╛рж░рзНржб
    const keywords = ["ржЧрзНрж░рзБржкрзЗрж░ ржирж┐рзЯржо", "group rules", "rules", "ржЧрзНрж░рзБржк рж░рзБрж▓рж╕"];
    if (!keywords.some(w => msg.includes(w))) return;

    // ржерзНрж░рзЗржб ржЗржиржлрзЛ ржерзЗржХрзЗ ржЧрзНрж░рзБржкрзЗрж░ ржирж╛ржо ржЖржирж╛
    const threadInfo = await api.getThreadInfo(event.threadID);
    const groupName = threadInfo.threadName || "ржПржЗ ржЧрзНрж░рзБржк";

    // ржирж┐рзЯржо рждрж╛рж▓рж┐ржХрж╛
    const rules = [
      "ЁЯУЬ **ржЧрзНрж░рзБржкрзЗрж░ ржирж┐рзЯржорж╛ржмрж▓рзА рж╢рзБрж░рзБ рж╣ржЪрзНржЫрзЗ...** ЁЯМ┐",
      `ЁЯП╖я╕П ржЧрзНрж░рзБржкрзЗрж░ ржирж╛ржо: ${groupName}`,
      "тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ",
      "1я╕ПтГг ржЧрзНрж░рзБржкрзЗрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржУ ржирж╛ржо ржЪрзЗржЮрзНржЬ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ЁЯдЭ",
      "2я╕ПтГг ржорзЗржпрж╝рзЗ ржПржмржВ ржЫрзЗрж▓рзЗ ржХрж╛рж░рзЛ ржЗржиржмржХрзНрж╕рзЗ ржЕржирзБржорждрж┐ ржЫрж╛ржбрж╝рж╛ ржирзЛржЯ ржжрзЗржУржпрж╝рж╛ ржпрж╛ржмрзЗ ржирж╛ЁЯЪл",
      "3я╕ПтГг ржЦрж╛рж░рж╛ржк ржХрзЛржи ржЫржмрж┐ ржмрж╛ ржнрж┐ржбрж┐ржУ ржжрзЗржУржпрж╝рж╛ ржпрж╛ржмрзЗ ржирж╛",
      "4я╕ПтГг рж╕ржмрж╛рж░ рж╕рж╛ржерзЗ ржнрж╛рж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗ",
      "5я╕ПтГг ржХрж╛ржЙржХрзЗ ржЕрж╕ржорзНржорж╛ржи ржХрж░рзЗ ржХржерж╛ ржмрж▓рж╛ ржпрж╛ржмрзЗ ржирж╛",
      "6я╕ПтГг ржпрзЗ ржХрзЛржи рж╕ржорж╕рзНржпрж╛ ржПржбржорж┐ржирзЗрж░ рж╕рж╛ржерзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░ржмрзЗржи",
      "7я╕ПтГг рж╕ржмрж╛ржЗ ржорж┐рж▓рзЗ ржорж┐рж╢рзЗ ржПржХрж╕рж╛ржерзЗ ржЖржбрзНржбрж╛ ржжрж┐ржмрзЗржи",
      "тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ",
      "ЁЯТЦ рж╕ржмрж╛рж░ ржнрж╛рж▓рзЛрж░ ржЬржирзНржпржЗ ржЧрзНрж░рзБржкрзЗрж░ ржирж┐ржпрж╝ржо ржЧрзБрж▓рзЛ ржжрзЗржУржпрж╝рж╛ рж╣рж▓ ржЖрж╢рж╛ ржХрж░рж┐ рж╕ржХрж▓рзЗ ржорзЗржирзЗ ржЪрж▓ржмрзЗржи!** ЁЯМИ"
    ];

    // рж╢рзБрж░рзБрждрзЗ ржШрзЛрж╖ржгрж╛
    api.sendMessage(
      `тЬи ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржоржирзЛржпрзЛржЧ ржжрж┐ржи тЬи\n\nЁЯУЛ ${groupName}-ржПрж░ ржирж┐рзЯржорж╛ржмрж▓рзА ржкрж╛ржарж╛ржирзЛ рж╣ржЪрзНржЫрзЗ...`,
      event.threadID
    );

    // ржПржХ ржПржХ ржХрж░рзЗ ржкрж╛ржарж╛ржирзЛ
    for (let i = 0; i < rules.length; i++) {
      setTimeout(() => {
        api.sendMessage(rules[i], event.threadID);
      }, i * 2500); // ржкрзНрж░рждрж┐ 2.5 рж╕рзЗржХрзЗржирзНржбрзЗ ржПржХрзЗржХржЯрж┐ ржирж┐рзЯржо
    }

    // рж╢рзЗрж╖рзЗ рж╕рзБржирзНржжрж░ рж╕рж┐ржЧржирзЗржЪрж╛рж░
    setTimeout(() => {
      api.sendMessage(
        "тХФтХРтХРтЬжтЭЦтЬжтХРтХРтХЧ\nтЬи 'тАвтФДтФЕтХРтХРтХРтЭБЁЭЩ┐ЁЭЪБЁЭЩ╕ЁЭЩ╜ЁЭЩ▓ЁЭЩ┤ ЁЭЩ▒ЁЭЩ╗ЁЭЩ░ЁЭЩ▓ЁЭЩ║ ЁЭЩ╗ЁЭЩ╛ЁЭЪЕЁЭЩ┤ЁЭЪБтЭБтХРтХРтХРтФЕтФДтАв' тЬи\nтХЪтХРтХРтЬжтЭЦтЬжтХРтХРтХЭ",
        event.threadID
      );
    }, (rules.length + 1) * 2500);
  },

  onStart: async function() {}
};
